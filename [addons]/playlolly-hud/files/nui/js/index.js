$(function(){const speedContainer=$("#teslaHUD");const speed=$("#speed");const autopilotSpeedBadge=$("#autopilotSpeedBadge");const speedMeasurement=$("#speedMeasurement");const batteryPercentage=$("#batteryPercentage");const modelName=$("#modelName");window.addEventListener("message",function(event){var item=event.data;if(item.showHUD){document.getElementById("inCarUpperRow").style.display="block";document.getElementById("inCarUnderRow").style.display="block";document.documentElement.style.setProperty("--hudVisibility",`block`);speedContainer.fadeIn();speed.text(item.speed);speedMeasurement.text(item.speedMeasurement);batteryPercentage.text(`${item.battery}%`);document.documentElement.style.setProperty("--batteryPercentage",`${item.battery}%`);switch(true){case item.battery<=20:document.documentElement.style.setProperty("--batteryColor","red");break;case item.battery<=50:document.documentElement.style.setProperty("--batteryColor","orange");break;case item.battery>50:document.documentElement.style.setProperty("--batteryColor","#25cb55");break}switch(true){case item.turnSignalLeft&&item.turnSignalRight:document.getElementById("turnSignalLeft").style.display="block";document.getElementById("placeholderLeft").style.display="none";document.getElementById("turnSignalRight").style.display="block";document.getElementById("placeholderRight").style.display="none";break;case item.turnSignalLeft:document.getElementById("turnSignalLeft").style.display="block";document.getElementById("placeholderLeft").style.display="none";document.getElementById("turnSignalRight").style.display="none";document.getElementById("placeholderRight").style.display="block";break;case item.turnSignalRight:document.getElementById("turnSignalLeft").style.display="none";document.getElementById("placeholderLeft").style.display="block";document.getElementById("turnSignalRight").style.display="block";document.getElementById("placeholderRight").style.display="none";break;default:document.getElementById("turnSignalLeft").style.display="none";document.getElementById("placeholderLeft").style.display="block";document.getElementById("turnSignalRight").style.display="none";document.getElementById("placeholderRight").style.display="block"}if(!item.autoPark&&!item.autopilot&&!item.crashAvoidanceAlert){switch(true){case item.speed<=1:resetGear();resetFunctions();document.getElementById("gearP").style.display="none";document.getElementById("gearR").style.display="none";document.getElementById("gearN").style.display="none";document.getElementById("gearD").style.display="none";document.getElementById("modelName").style.display="block";modelName.text(getVehicleName(item).toUpperCase());if(item.nearCharger){document.getElementById("speed").style.display="none";document.getElementById("chargingIcon").style.display="block";document.getElementById("carNearCharger").style.display="block"}else{speed.text("P");document.getElementById("carParked").style.display="block"}break;case item.gear==0:resetGear();resetFunctions();document.getElementById("gearR").classList.add("importantGear");document.getElementById("carDriving").style.display="block";break;case item.gear==1:resetGear();resetFunctions();document.getElementById("gearD").classList.add("importantGear");document.getElementById("carDriving").style.display="block";break}}if(item.autoPark||item.autopilot||item.crashAvoidanceAlert){resetGear();document.getElementById("gearP").style.display="none";document.getElementById("gearR").style.display="none";document.getElementById("gearN").style.display="none";document.getElementById("gearD").style.display="none";document.getElementById("modelName").style.display="block";modelName.text(getVehicleName(item).toUpperCase())}if(item.adaptiveLighting){if(item.highBeam){resetLight();document.getElementById("adaptiveLightingHighBeamBadge").style.display="block"}else{resetLight();document.getElementById("adaptiveLightingOffBadge").style.display="block"}}else{if(item.highBeam){resetLight();document.getElementById("lightHighBeamBadge").style.display="block"}else if(item.light){resetLight();document.getElementById("lightNormalBadge").style.display="block"}else{resetLight()}}switch(item.tirePressure){case"burst":document.documentElement.style.setProperty("--tirePressureColor",`#ffbd0a`);document.getElementById("tirePressureBadge").style.display="block";break;case"completeBurst":document.documentElement.style.setProperty("--tirePressureColor",`#e82127`);document.getElementById("tirePressureBadge").style.display="block";break;default:document.getElementById("tirePressureBadge").style.display="none"}if(item.doorOpen){document.getElementById("doorOpenBadge").style.display="block"}else{document.getElementById("doorOpenBadge").style.display="none"}if(item.doorLocked){document.getElementById("doorLockedBadge").style.display="block"}else{document.getElementById("doorLockedBadge").style.display="none"}switch(true){case item.autoPark:resetFunctions();document.getElementById("autoParkBadge").style.display="block";document.getElementById("crashAvoidanceBadge").style.display="none";document.documentElement.style.setProperty("--autopilotStatus",`#007be4`);document.getElementById("carAutoPark").style.display="block";break;case item.crashAvoidance:if(item.crashAvoidanceAlert){resetFunctions();document.documentElement.style.setProperty("--crashAvoidanceStatus",`#e82127`);document.getElementById("carCrashAvoidanceAlert").style.display="block"}else{document.documentElement.style.setProperty("--crashAvoidanceStatus",`#007be4`)}break;case item.autopilot:resetFunctions();document.getElementById("autopilotSpeedBadge").style.display="flex";document.getElementById("crashAvoidanceBadge").style.display="none";autopilotSpeedBadge.text(item.autopilotSpeed);switch(true){case item.autopilotHorn:document.documentElement.style.setProperty("--autopilotStatus",`#ffbd0a`);document.getElementById("carAutopilotHorn").style.display="block";break;case item.autopilotTrafficLight:document.documentElement.style.setProperty("--autopilotStatus",`#007be4`);document.getElementById("carAutopilotTrafficLight").style.display="block";break;case item.autoLaneChange:document.documentElement.style.setProperty("--autopilotStatus",`#007be4`);document.getElementById("carAutoLaneChange").style.display="block";break;case item.autopilot:document.documentElement.style.setProperty("--autopilotStatus",`#007be4`);document.getElementById("carAutopilot").style.display="block";break}break}}else if(!item.showHUD){speedContainer.fadeOut()}});function resetFunctions(){document.getElementById("chargingIcon").style.display="none";document.getElementById("carDriving").style.display="none";document.getElementById("carParked").style.display="none";document.getElementById("carNearCharger").style.display="none";document.getElementById("carAutopilot").style.display="none";document.getElementById("carAutopilotTrafficLight").style.display="none";document.getElementById("carAutopilotHorn").style.display="none";document.getElementById("carAutoLaneChange").style.display="none";document.getElementById("carCrashAvoidanceAlert").style.display="none";document.getElementById("carAutoPark").style.display="none";document.documentElement.style.setProperty("--autopilotStatus",`rgba(0, 0, 0, 0.5)`);document.documentElement.style.setProperty("--crashAvoidanceStatus",`rgba(0, 0, 0, 0.5)`);document.getElementById("autopilotSpeedBadge").style.display="none";document.getElementById("autoParkBadge").style.display="none";document.getElementById("crashAvoidanceBadge").style.display="block";document.getElementById("speed").style.display="block"}function resetGear(){document.getElementById("gearP").classList.remove("importantGear");document.getElementById("gearR").classList.remove("importantGear");document.getElementById("gearD").classList.remove("importantGear");document.getElementById("gearP").style.display="block";document.getElementById("gearR").style.display="block";document.getElementById("gearN").style.display="block";document.getElementById("gearD").style.display="block";document.getElementById("modelName").style.display="none"}function resetLight(){document.getElementById("lightNormalBadge").style.display="none";document.getElementById("lightHighBeamBadge").style.display="none";document.getElementById("adaptiveLightingOffBadge").style.display="none";document.getElementById("adaptiveLightingHighBeamBadge").style.display="none"}function getVehicleName(item){switch(item.vehicleModel){case 2006210393:return"Model S";case-252836656:return"Model S";case 967185883:return"Model 3";case-1290262746:return"Model X";case 1281801152:return"Model X";case 1717202867:return"Model Y";case-964913869:return"Roadster";case-2086233241:return"Roadster";case-450863688:return"Cybertruck";case 170327252:return"Cyberquad";case 2014463299:return"Semi";default:return"Playlolly"}}});