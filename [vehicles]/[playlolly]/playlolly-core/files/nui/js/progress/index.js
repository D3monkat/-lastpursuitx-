const startProgress=data=>{$("#progress-label").text(data.label);$("#progress-container").fadeIn("fast",()=>{$("#progress-bar").stop().css({width:0}).animate({width:"100%"},{duration:parseInt(data.duration),complete:()=>{$("#progress-container").fadeOut("fast",()=>{$("#progress-bar").removeClass("cancellable");$("#progress-bar").css("width",0);$.post(`https://${GetParentResourceName()}/progressFinishAction`)})}})})};const cancelProgress=()=>{$("#progress-label").text("CANCELLED");$("#progress-bar").stop().css({width:0}).animate({width:"100%"},{duration:1e3,complete:()=>{$("#progress-container").fadeOut("fast",()=>{$("#progress-bar").removeClass("cancellable");$("#progress-bar").css("width",0);$.post(`https://${GetParentResourceName()}/progressCancelAction`)})}})};window.addEventListener("message",event=>{const data=event.data;const action=data.action;switch(action){case"START_PROGRESS":return startProgress(data);case"CANCEL_PROGRESS":return cancelProgress();default:return}});