import{determineStyleFromVariant,fetchNotifyConfig,NOTIFY_CONFIG}from"./config.js";const{useQuasar}=Quasar;const{onMounted,onUnmounted}=Vue;const app=Vue.createApp({setup(){const $q=useQuasar();const showNotify=async({data})=>{if(data?.action!=="notify")return;const{text,length,type,caption}=data;const{classes,icon}=determineStyleFromVariant(type);if(!NOTIFY_CONFIG){console.error("The notification config did not load properly, trying again for next time");await fetchNotifyConfig();return showNotify({data:data})}$q.notify({message:text,multiLine:text.length>100,group:NOTIFY_CONFIG.styling.group??false,progress:NOTIFY_CONFIG.styling.progress??true,position:NOTIFY_CONFIG.styling.position??"right",timeout:length,caption:caption,classes:classes,icon:icon})};onMounted(()=>{window.addEventListener("message",showNotify)});onUnmounted(()=>{window.removeEventListener("message",showNotify)});return{}}});app.use(Quasar,{config:{}});app.mount("#q-app");